#! /bin/bash
#
# Generated by the utility: /z/tools/collect_git_checked_out_branch_recusively.sh 
#
# Checkout each git repository to the given branch/commit or list them
#

mode=h;
while getopts ":hlrc" opt ; do
  #echo opt+arg = "$opt$OPTARG"
  case "$opt$OPTARG" in
  l )
    mode=l;
    ;;

  c )
    mode=c;
    ;;

  r )
    mode=r;
    ;;

  * )
    ;;
  esac
done

if test "$mode" = "h" ; then
  cat <<EOH
checkout_to_known_git_branches_recursive.sh options

Options:

-h      : print this help 
-l      : LIST the branch/commit for each git repository (directory) registered in this script.
-c      : CHECKOUT each git repository to the BRANCH registered in this script.
-r      : CHECKOUT/REVERT each git repository to the COMMIT registered in this script.

Note:

Use the '-r' option to set each repository to an exact commit position, which is useful if,
for instance, you wish to reproduce this registered previous software state (which may 
represent a software release) which you wish to analyze/debug.

EOH
  exit 1;
fi

if test "$mode" = "l" ; then
  cat <<EOH

Git repository directory                    :: commit hash                         / branch name
--------------------------------------------::--------------------------------------------------
EOH
fi



# args: DIR COMMIT [BRANCH]
git_repo_checkout_branch() {
  if test "$mode" = "c" || test "$mode" = "r" ; then
    if test -d "$1" ; then
      pushd "$1"                                                               2> /dev/null  > /dev/null
      printf "%-43s :: %s / %s\n" "$1" "$2" "$3"
      if test "$mode" = "c" ; then
        if test -n "$3" ; then
          # make sure the branch is created locally and is a tracking branch:
          git branch --track "$3" "remotes/origin/$3"                          2> /dev/null  > /dev/null
          git branch --set-upstream-to=remotes/origin/$3 master                2> /dev/null  > /dev/null
          git checkout "$3"
        else
          git checkout master
          if test $? -ne 0 ; then
            git checkout main
          fi
        fi
      else
        git checkout "$2"
      fi
      popd                                                                     2> /dev/null  > /dev/null
    fi
  else
    if test -d "$1" ; then
      printf "%-43s :: %s / %s\n" "$1" "$2" "$3"
    else
      printf "%-43s :: %s / %s\n" "[DIRECTORY DOES NOT EXIST!] $1" "$2" "$3"
    fi
  fi
}


#
# Make sure we switch to the utility directory as all the relative paths for the repositories
# are based off that path!
#
pushd $(dirname $0)                                                            2> /dev/null  > /dev/null



#
# The registered repositories:
#

git_repo_checkout_branch "../libs/accumulators"                   4df0de9b47ef1415a7ccf0310250d6e15e132537 master    
git_repo_checkout_branch "../libs/algorithm"                      1c5f74ae255f7fee667955ae05cb7203a5f40c83 master    
git_repo_checkout_branch "../libs/align"                          bef21416a3bbd46f3f5de4f9254bf4c46ec752fe master    
git_repo_checkout_branch "../libs/any"                            06eaa82dbfb6bc3e3842f9c1e1c8151f4858f56a master    
git_repo_checkout_branch "../libs/array"                          9cc63ae0dd32dbb4031272f9536b66919e5d9928 master    
git_repo_checkout_branch "../libs/asio"                           6d6d5a53d2f9559f398954cde2ab093288edecfc master    
git_repo_checkout_branch "../libs/assert"                         7dea14cf7f21dcd5bc5d4cedfd22935878634cdf master    
git_repo_checkout_branch "../libs/assign"                         058d07720ceff6bd6c4321cb967a27869a5af3a0 master    
git_repo_checkout_branch "../libs/atomic"                         581dd7953f467c938aeb7d17f9ff32e3269e3fbe master    
git_repo_checkout_branch "../libs/beast"                          76043dec2cf67a2ba33b32bdcc129f5f0027b8be master    
git_repo_checkout_branch "../libs/bimap"                          85f0f02537d71794a415ef4b992629b2edebfbff master    
git_repo_checkout_branch "../libs/bind"                           edc56d844225106a13334fefb2bfcbbfdb8e8d84 master    
git_repo_checkout_branch "../libs/callable_traits"                2a56a3a2496cdb66496f844db55085dd992d5e49 master    
git_repo_checkout_branch "../libs/chrono"                         f13b061053a28a8bd122529b85d6782e0fed4983 master    
git_repo_checkout_branch "../libs/circular_buffer"                d4fbf446b903fb6651b56bbd5931a9b902ef962c master    
git_repo_checkout_branch "../libs/compatibility"                  47ce71af6b018764c9ba74c0bfcb4f3151b81aa7 master    
git_repo_checkout_branch "../libs/compute"                        36350b7de849300bd3d72a05d8bf890ca405a014 master    
git_repo_checkout_branch "../libs/concept_check"                  5656ffe0ac76ad58fbaff45baff20c39924a1278 master    
git_repo_checkout_branch "../libs/config"                         de00ddd50aa4b3263a3de10e7974a5c4d343bf07 master    
git_repo_checkout_branch "../libs/container"                      725d95b314ac8693b64fb2c53f6f772fd8c4dc95 master    
git_repo_checkout_branch "../libs/container_hash"                 53c12550fa11221975f58a6c23581b4563153e04 master    
git_repo_checkout_branch "../libs/context"                        87135f923efe28a4c477be817d23f08d8e937713 master    
git_repo_checkout_branch "../libs/contract"                       eca93d24b5d3bb909ed64c12b5feb5296c5cc070 master    
git_repo_checkout_branch "../libs/conversion"                     4ae8b4d49547126264f0b80c528fcfd26cdf5e7d master    
git_repo_checkout_branch "../libs/convert"                        39bcd6e60c3a74c15689d4b2db612f8fe654161d master    
git_repo_checkout_branch "../libs/core"                           414dfb466878af427d33b36e6ccf84d21c0e081b master    
git_repo_checkout_branch "../libs/coroutine"                      1e1347c0b1910b9310ec1719edad8b0bf2fd03c8 master    
git_repo_checkout_branch "../libs/coroutine2"                     d7e1c1c4abcf8c1e90097279e485edea0b253a80 master    
git_repo_checkout_branch "../libs/crc"                            96daae9fcdf965298077ed12a9304ea24713bb40 master    
git_repo_checkout_branch "../libs/date_time"                      b280ef1506dbf3a927750cb6c4631b9b2e552768 master    
git_repo_checkout_branch "../libs/describe"                       ef9c38f90c876b7bcb98d4280d7f79684afeb6fc master    
git_repo_checkout_branch "../libs/detail"                         f9888ad0517774aee9f7588284a3eb452a0f3546 master    
git_repo_checkout_branch "../libs/dll"                            9f9471cc3351273d73c2cd7328d37010f5708115 master    
git_repo_checkout_branch "../libs/dynamic_bitset"                 8e20aa1462bf6dcadc338835df529a6d568431b1 master    
git_repo_checkout_branch "../libs/endian"                         0dab6737ebd60e49bb1bede55c85a191a90010e5 master    
git_repo_checkout_branch "../libs/exception"                      54f2228f78dae86335558e67cbec496693907bfc master    
git_repo_checkout_branch "../libs/fiber"                          3e1770607c88a7a67869bd50fdd70f6da7be19c0 master    
git_repo_checkout_branch "../libs/filesystem"                     77b45ff9349c1f136eef18c0f197cd075bd27a4d master    
git_repo_checkout_branch "../libs/flyweight"                      af4fd3e8eb532099cec51bb6f199029b65e7998d master    
git_repo_checkout_branch "../libs/foreach"                        cc2f75ae30492b9de69b3b692f5c59afcb7dea5e master    
git_repo_checkout_branch "../libs/format"                         78ef371d2d90462671b90c3af407fae07820b193 master    
git_repo_checkout_branch "../libs/function"                       16fca8368b5da14c4bcad977c2738dc6e482e1b7 master    
git_repo_checkout_branch "../libs/function_types"                 895335874d67987ada0d8bf6ca1725e70642ed49 master    
git_repo_checkout_branch "../libs/functional"                     075c2e089a50d6a2f566d0415c62aa9a6e09f765 master    
git_repo_checkout_branch "../libs/fusion"                         65395679522d853fa7f845a5120dd84d2ba9354e master    
git_repo_checkout_branch "../libs/geometry"                       ca14e7840f73ceda4ee70304040774379f0d43e9 master    
git_repo_checkout_branch "../libs/gil"                            0919fde35e3fbc90eaccfd0e2c35d59965ad1aa2 master    
git_repo_checkout_branch "../libs/graph"                          a649be53bd90ab3365c6c0c44414c80907cfd8a1 master    
git_repo_checkout_branch "../libs/graph_parallel"                 5520a5617d2763c48a06a4ff277ad76e665c7cf3 master    
git_repo_checkout_branch "../libs/hana"                           998033e9dba8c82e3c9496c274a3ad1acf4a2f36 master    
git_repo_checkout_branch "../libs/headers"                        017c3cd1338b5437f28506cd14119b7dcfb1a86d master    
git_repo_checkout_branch "../libs/heap"                           dc2f19f8815cbe0654df61bfc5f31ad8b06fc883 master    
git_repo_checkout_branch "../libs/histogram"                      b62d38051e0e73436be2642f372c5d01620bb51a master    
git_repo_checkout_branch "../libs/hof"                            0a28586156eb6cc7db1fbe74ae2a220daf40df14 master    
git_repo_checkout_branch "../libs/icl"                            e6c06ddee1e2320f11c4ec5cd2661c4abe9bca53 master    
git_repo_checkout_branch "../libs/integer"                        721fe9f562048fdcdbd5dddf2a3fdac5b2fd5297 master    
git_repo_checkout_branch "../libs/interprocess"                   41018201d6b7a34f38a0303a1ad591d978989cb8 master    
git_repo_checkout_branch "../libs/intrusive"                      f439778dc7a851bf3ba8929fd5ecf199b0d13dcd master    
git_repo_checkout_branch "../libs/io"                             932dd480263d06d00bf4b40a323dc3f4ace266e2 master    
git_repo_checkout_branch "../libs/iostreams"                      bfaf96eea6f4198b837f04cf5c9b0e4d21e5cda0 master    
git_repo_checkout_branch "../libs/iterator"                       ce52aee3ceaf4e37d171fb811000f28bb80f91cd master    
git_repo_checkout_branch "../libs/json"                           43d04d1d214e29d1ad890c5f9237ae0201726166 master    
git_repo_checkout_branch "../libs/lambda"                         ac26514243521513d33be23aaa92a85b858ddf51 master    
git_repo_checkout_branch "../libs/lambda2"                        4b68743cf06516de1375b83a379b2a3af2d8e545 master    
git_repo_checkout_branch "../libs/leaf"                           e16e0cf417463ec992846078099d317495c2bc5e master    
git_repo_checkout_branch "../libs/lexical_cast"                   a9f296115967335aaa9f4a4cadfd900f131a60d1 master    
git_repo_checkout_branch "../libs/local_function"                 099e96bef0e5f2d513940c5987958121ca6f6e02 master    
git_repo_checkout_branch "../libs/locale"                         76f6226fb12c900d0cc5c5744c30dc36a36d5b9f master    
git_repo_checkout_branch "../libs/lockfree"                       fdd4d0632dd0904f6e9c656c45397fe8ef985bc9 master    
git_repo_checkout_branch "../libs/log"                            93174ac2c69e9909025287fbb5b99ed43e49c1af master    
git_repo_checkout_branch "../libs/logic"                          145778490c2d332c1411df6a5274a4b53ec3e091 master    
git_repo_checkout_branch "../libs/math"                           db2a7cbb44a84c4c9cba62232c07f18b22bd965d master    
git_repo_checkout_branch "../libs/metaparse"                      0ef448c1a7ce22b5de514f9cd504c323c28f4379 master    
git_repo_checkout_branch "../libs/move"                           19bb08cf17cffba726875a906ba0be8fdfa15cd0 master    
git_repo_checkout_branch "../libs/mp11"                           f6133a9f1f965d89676a33c4a39b3df09373b929 master    
git_repo_checkout_branch "../libs/mpi"                            79e261101a13789ee88e793c5ad406ca893c22a7 master    
git_repo_checkout_branch "../libs/mpl"                            db09fb1dce010e172072a1ba62858b2155285444 master    
git_repo_checkout_branch "../libs/msm"                            03f58ead6d0ec23d52e5c7b382e2c98df1d943d5 master    
git_repo_checkout_branch "../libs/multi_array"                    0c5348bef71b890c4bd06eff1ee5ebda69e7b27a master    
git_repo_checkout_branch "../libs/multi_index"                    e7c489b323f7067c9138bc41623807630a6f5fe3 master    
git_repo_checkout_branch "../libs/multiprecision"                 3b333b1634a3bf92ded87732ad3a6f7f68b22229 master    
git_repo_checkout_branch "../libs/nowide"                         211213a3a85694487693a659406ab09f61dca1c2 master    
git_repo_checkout_branch "../libs/numeric/conversion"             db44689f4f4f74d6572a868e13f523c82fca5a55 master    
git_repo_checkout_branch "../libs/numeric/interval"               2eda7413ac16dd4158005446438daf8a7e435dd9 master    
git_repo_checkout_branch "../libs/numeric/odeint"                 db8f91a51da630957d6bfa1ff87be760b0be97a6 master    
git_repo_checkout_branch "../libs/numeric/ublas"                  f0e55caf310d5e01c7e9f2190b2422e113ddeedb master    
git_repo_checkout_branch "../libs/optional"                       c809700d6a5fdcbb39e1bf8e9df3433a1615ad02 master    
git_repo_checkout_branch "../libs/outcome"                        338f8c4d17cedac735c056304dee2615d6ca05e6 master    
git_repo_checkout_branch "../libs/parameter"                      665cdbc94c3b04b5f9dbabffdcb551c3c2f7955f master    
git_repo_checkout_branch "../libs/parameter_python"               1f7f9ce9930119f0dda7dcd5e1ec3b5ed7c6b091 master    
git_repo_checkout_branch "../libs/pfr"                            8a8b5bc8d3ff673c4b278d145f6bf6973844d8e9 master    
git_repo_checkout_branch "../libs/phoenix"                        15500aec2187ab59e51d05addab0fdba7e788dbb master    
git_repo_checkout_branch "../libs/poly_collection"                0b8bfc4cff012d0f23049fc5a0009ac4abadceb4 master    
git_repo_checkout_branch "../libs/polygon"                        8ba35b57c1436c4b36f7544aadd78c2b24acc7db master    
git_repo_checkout_branch "../libs/pool"                           600bcb027379b0670ccecf14f380f77e1264037f master    
git_repo_checkout_branch "../libs/predef"                         392e4e767469e3469c9390f0d9cca16724dc3fc8 master    
git_repo_checkout_branch "../libs/preprocessor"                   667e87b3392db338a919cbe0213979713aca52e3 master    
git_repo_checkout_branch "../libs/process"                        ee945a6b9524fe59f3985c9a8c3d74944ce4f99f master    
git_repo_checkout_branch "../libs/program_options"                7bcbb4ea23c958800694436b411669f80c543e18 master    
git_repo_checkout_branch "../libs/property_map"                   e3a3c3655f4118fd15a02d8315f86a48db7390fd master    
git_repo_checkout_branch "../libs/property_map_parallel"          a2f90e9660e4e7e012c0b54a1338d8e69fb71906 master    
git_repo_checkout_branch "../libs/property_tree"                  d30ff9404bd6af5cc8922a177865e566f4846b19 master    
git_repo_checkout_branch "../libs/proto"                          7f924934689b940f3a72212ab0f714ec6fd6e34b master    
git_repo_checkout_branch "../libs/ptr_container"                  943730c349f5af0814cc16c44d63850de5bfc697 master    
git_repo_checkout_branch "../libs/python"                         8dd151177374dbf0aa5cb86bd350cf1ad13e2160 master    
git_repo_checkout_branch "../libs/qvm"                            5791440b346232c391ab8d16f559ca5b2d7ae9b3 master    
git_repo_checkout_branch "../libs/random"                         a2740d4b30178cb187fabca163e5be7803a577b9 master    
git_repo_checkout_branch "../libs/range"                          88c6199aedf8bbb5a6a8966e534f9de99943cde2 master    
git_repo_checkout_branch "../libs/ratio"                          00073b7d5896603b2036a334253dc9784285355c master    
git_repo_checkout_branch "../libs/rational"                       564623136417068916495e2b24737054d607347c master    
git_repo_checkout_branch "../libs/regex"                          a851f2141f644eb7cd9cdbe086c36491e52cbfb2 master    
git_repo_checkout_branch "../libs/safe_numerics"                  777e0be5ec763d0333a717c5e421a4f7c5e5bdc9 master    
git_repo_checkout_branch "../libs/scope_exit"                     60baaae454b2da887a31cf939e22015b6263c9e4 master    
git_repo_checkout_branch "../libs/serialization"                  0ca603daf99888bf059c01ae1bab1b27dbc35ebe master    
git_repo_checkout_branch "../libs/signals2"                       49ed1573fa91bb8c60d0a20a5d5e36d8b6d94ea9 master    
git_repo_checkout_branch "../libs/smart_ptr"                      59b5b17e813c238187d568450b7155e7398fdf18 master    
git_repo_checkout_branch "../libs/sort"                           72a3ae870c59980dadd757f5f63e6be16ab61c1b master    
git_repo_checkout_branch "../libs/spirit"                         15539bbf92967e5b733b37070cfde1b9d8dd347d master    
git_repo_checkout_branch "../libs/stacktrace"                     75b7986f9799184ecd679d86273532cb54e6a0dc master    
git_repo_checkout_branch "../libs/statechart"                     586445b824c5cf0e7e6ce4ff2df620fda5d0f0d7 master    
git_repo_checkout_branch "../libs/static_assert"                  ba72d3340f3dc6e773868107f35902292f84b07e master    
git_repo_checkout_branch "../libs/static_string"                  5d6fefdd2acd70c34d8ba4590ab888d8481532af master    
git_repo_checkout_branch "../libs/stl_interfaces"                 24f9450297cb6dc4eb9df019cd9a1c7f4379e720 master    
git_repo_checkout_branch "../libs/system"                         cb8eba7a7fef7ee8efd6c7efb221c1d28b5165d0 master    
git_repo_checkout_branch "../libs/test"                           d2895ebfdfdf16074c58c9801d53e190c4654fcb master    
git_repo_checkout_branch "../libs/thread"                         743d19d7d337af9705a882f55907e3b7622514b3 master    
git_repo_checkout_branch "../libs/throw_exception"                d307a2d4a75efb0999f97f559f2df83cb9841b8d master    
git_repo_checkout_branch "../libs/timer"                          fb88e7758e1fe2d1f81fca51df5b21b94ee3edf4 master    
git_repo_checkout_branch "../libs/tokenizer"                      90106f155bd72b62aaca0d9ad826f4132030dba0 master    
git_repo_checkout_branch "../libs/tti"                            03734c54a51b6372ac3296d2fe5103b7360bcd3f master    
git_repo_checkout_branch "../libs/tuple"                          500e4fa0a2845b96c0dd919e7485e0f216438a01 master    
git_repo_checkout_branch "../libs/type_erasure"                   fc39ca9936bd7ac37afa8fadf3be3b62ee378f39 master    
git_repo_checkout_branch "../libs/type_index"                     cca370a91834d331e3143ac4d023fb0f178e512b master    
git_repo_checkout_branch "../libs/type_traits"                    d2a4a6bf0a3900e11faaf6904b95183115bac54d master    
git_repo_checkout_branch "../libs/typeof"                         46c7a05f826fc020ee88210ea2a5cd9278b930ab master    
git_repo_checkout_branch "../libs/units"                          45787015dd8c11653eb988260acf05c4af9d42e5 master    
git_repo_checkout_branch "../libs/unordered"                      6b87a4316216460364a6d122e7f9c94d5717bcca master    
git_repo_checkout_branch "../libs/utility"                        3fe40554dfcf05ae55848b783edd083807529a38 master    
git_repo_checkout_branch "../libs/uuid"                           bd835638a5179cc1fb55b9f95377bedce4e47e1d master    
git_repo_checkout_branch "../libs/variant"                        d2fdf2384b146b0c764077f5539f5f6ed7c40f20 master    
git_repo_checkout_branch "../libs/variant2"                       c633a953dea46a8f146b35f37986f660b07ac101 master    
git_repo_checkout_branch "../libs/vmd"                            34cad2c1a574d445812c7c2432d3a5a5c843b412 master    
git_repo_checkout_branch "../libs/wave"                           c524b58847ce7c6948260bc422422b54096008b2 master    
git_repo_checkout_branch "../libs/winapi"                         7a37250e1364aa99ae3db20ee6843b0c2c57a895 master    
git_repo_checkout_branch "../libs/xpressive"                      4679fbd23f962bfa78d44acf5fa48f6f790642c0 master    
git_repo_checkout_branch "../libs/yap"                            ae49bf2744586e6bd6c0cedff4500a58a4386860 master    
git_repo_checkout_branch "../more"                                3f58b37f6fc5e8dc1417af5b193f690f26cccf25 master    
git_repo_checkout_branch "../tools/auto_index"                    e98a81769364f56b272e510c876df874af514b29 master    
git_repo_checkout_branch "../tools/bcp"                           a86fdce7885babae3ff625de36aa2dfacf983f8c master    
git_repo_checkout_branch "../tools/boost_install"                 0dffa522de55126767c0f464c14da3eb5b8acd61 master    
git_repo_checkout_branch "../tools/boostbook"                     a6701f5d278daba797697a1e5000ee41f25bcaff master    
git_repo_checkout_branch "../tools/boostdep"                      7f601b865a80db5854523d114ad7539c1e14fe18 master    
git_repo_checkout_branch "../tools/build"                         405d34a04d29519625c5edfe1f3bac3bc3dc3534 master    
git_repo_checkout_branch "../tools/check_build"                   9c3fc263fc3203e566c4b632c1b124e57dafbed5 master    
git_repo_checkout_branch "../tools/cmake"                         60599c6a5914d4ba14401b4ae00d90e65574b7ff master    
git_repo_checkout_branch "../tools/docca"                         6680b8d0553071ea9decb4850145b08770b7cc8d master    
git_repo_checkout_branch "../tools/inspect"                       db423bf897bcc6aa34231e5266442b75ee2a5666 master    
git_repo_checkout_branch "../tools/litre"                         564d4d8d30b7e03ac5e25d78e14d2c19fa321c83 master    
git_repo_checkout_branch "../tools/quickbook"                     5f2e8c24cb813b4b0b94d3316e664b971c5b71dd master    

# --- all done ---

popd                                                                           2> /dev/null  > /dev/null

